{"version":3,"sources":["components/Card/Card.module.scss","components/Card/index.js","pages/Favorites.jsx","pages/Orders.jsx","pages/Home.jsx","hooks/useCart.js","components/Header.js","components/Info.jsx","components/Drawer.js","App.js","index.js"],"names":["module","exports","Card","isLiked","onAddToCart","onFavorite","isLoading","title","price","imageURL","keys","obj","id","isItemAdded","useContext","CartContext","className","styles","card","speed","width","height","viewBox","backgroundColor","foregroundColor","cx","cy","r","x","y","rx","ry","favorite","onClick","src","alt","cardButton","card__price","console","log","Favorites","sneakers","onAddToFavorite","map","index","key","Orders","useState","order","setOrder","setIsLoading","useEffect","a","axios","get","data","items","flat","alert","Array","Home","searchValue","setSearchValue","onChangeSearch","addToCart","onChange","value","type","placeholder","filtered","filter","item","toUpperCase","includes","renderItems","useCart","cartItems","setCartItems","totalPrice","reduce","sum","Header","onClickCloseCart","to","Info","onClose","description","image","Drawer","onRemove","sendOreder","isOrderComplet","setIsOrderComplet","length","disabled","React","createContext","App","cartOpened","setCardOpened","setSneakers","favorites","setFavorites","Promise","all","sneakersData","cartItemsData","favoritesData","fetchData","findItem","find","Item","prew","delete","post","delay","ms","resolve","setTimeout","i","some","handlerCloseCart","favObj","Provider","path","exact","e","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98911315.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3eUKg\",\"favorite\":\"Card_favorite__2P8Ik\",\"card__price\":\"Card_card__price__3PVPA\",\"cardButton\":\"Card_cardButton__3ffX6\"};","import React, { useContext } from 'react';\r\nimport ContentLoader from \"react-content-loader\"\r\n\r\nimport { CartContext } from '../../App'\r\n\r\nimport styles from './Card.module.scss';\r\n\r\n\r\n\r\n\r\nfunction Card({ isLiked, onAddToCart, onFavorite, isLoading = false, title, price, imageURL, keys, id }) {\r\n\r\n\r\n\r\n\tconst obj = { title, price, imageURL, keys, id };\r\n\r\n\tconst { isItemAdded } = useContext(CartContext)\r\n\r\n\tconst onClickAdd = () => {\r\n\t\tconsole.log('adCart', obj)\r\n\t\tonAddToCart(obj);\r\n\t}\r\n\r\n\r\n\tconst onClickLike = () => {\r\n\t\tonFavorite(obj);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.card}>\r\n\t\t\t{isLoading ? <ContentLoader\r\n\t\t\t\tspeed={2}\r\n\t\t\t\twidth={178}\r\n\t\t\t\theight={230}\r\n\t\t\t\tviewBox=\"0 0 178 230\"\r\n\t\t\t\tbackgroundColor=\"#f3f3f3\"\r\n\t\t\t\tforegroundColor=\"#ecebeb\"\r\n\r\n\t\t\t>\r\n\t\t\t\t<circle cx=\"472\" cy=\"630\" r=\"86\" />\r\n\t\t\t\t<rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"133\" height=\"112\" />\r\n\t\t\t\t<rect x=\"0\" y=\"135\" rx=\"5\" ry=\"5\" width=\"178\" height=\"15\" />\r\n\t\t\t\t<rect x=\"0\" y=\"155\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n\t\t\t\t<rect x=\"0\" y=\"199\" rx=\"9\" ry=\"9\" width=\"80\" height=\"30\" />\r\n\t\t\t\t<rect x=\"146\" y=\"198\" rx=\"9\" ry=\"9\" width=\"32\" height=\"32\" />\r\n\t\t\t</ContentLoader> : <>\r\n\t\t\t\t{onFavorite && <div className={styles.favorite} onClick={onClickLike} >\r\n\t\t\t\t\t<img src={isLiked(keys) ? \"img/liked.svg\" : \"img/unliked.svg\"} alt=\"unliked\" />\r\n\t\t\t\t</div>}\r\n\r\n\t\t\t\t<img width={133} height={112} src={imageURL} alt=\"\" />\r\n\t\t\t\t<h5>{title}</h5>\r\n\t\t\t\t{onAddToCart && <div className={styles.cardButton}>\r\n\t\t\t\t\t<div className={styles.card__price}>\r\n\t\t\t\t\t\t<span>ЦЕНА</span>\r\n\t\t\t\t\t\t<b>{price} руб.</b>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img onClick={onClickAdd} src={isItemAdded(keys) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"} alt=\"\" />\r\n\t\t\t\t</div>}\r\n\t\t\t</>}\r\n\t\t</div>)\r\n};\r\n\r\nexport default Card;","import Card from '../components/Card/'\r\n\r\nfunction Favorites({ sneakers, onAddToFavorite, isLiked }) {\r\n\r\n\treturn (\r\n\t\t<div className='content'>\r\n\t\t\t<div className='title'>\r\n\t\t\t\t<h1>Мои закладки</h1>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div className='sneakers'>\r\n\t\t\t\t{sneakers\r\n\t\t\t\t\t.map((obj, index) =>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tonFavorite={onAddToFavorite}\r\n\t\t\t\t\t\t\tisLiked={isLiked}\r\n\t\t\t\t\t\t\t{...obj}\r\n\t\t\t\t\t\t\tkey={`${obj.title}_${index}`} />)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t);\r\n}\r\n\r\nexport default Favorites;","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport Card from '../components/Card/';\r\n\r\nfunction Orders() {\r\n\r\n\tconst [order, setOrder] = useState([]);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.get('https://61012ec14e50960017c29c6a.mockapi.io/Orders');\r\n\t\t\t\tsetOrder(data.map((obj) => obj.items).flat());\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\talert('Ошибка загрузки страницы');\r\n\t\t\t}\r\n\t\t})();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='content'>\r\n\t\t\t<div className='title'>\r\n\t\t\t\t<h1>Мои заказы</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className='sneakers'>\r\n\t\t\t\t{(isLoading ? [...Array(4)] : order)\r\n\t\t\t\t\t.map((obj, index) => <Card isLoading={isLoading} {...obj} key={index} />)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Orders;","import Card from '../components/Card';\r\n\r\nfunction Home({ isLoading, sneakers, searchValue, setSearchValue, onChangeSearch, onAddToFavorite, addToCart, isLiked }) {\r\n\r\n\tconst renderItems = () => {\r\n\r\n\t\tconst filtered = sneakers.filter(item => item.title.toUpperCase().includes(searchValue.toUpperCase()));\r\n\r\n\t\treturn (isLoading ? [...Array(10)] : filtered)\r\n\t\t\t.map((obj, index) =>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tisLiked={isLiked}\r\n\t\t\t\t\tonFavorite={onAddToFavorite}\r\n\t\t\t\t\tonAddToCart={addToCart}\r\n\t\t\t\t\t{...obj}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tkey={index} />)\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='content'>\r\n\t\t\t<div className='title'>\r\n\t\t\t\t<h1>{searchValue ? `Пооиск по: ${searchValue}` : 'Все кроссовки'}</h1>\r\n\t\t\t\t<div className='search-block'>\r\n\t\t\t\t\t<img src=\"img/search.svg\" alt=\"search\" />\r\n\t\t\t\t\t<img onClick={() => setSearchValue('')} className='btn-remove clear' src=\"img/btn-remove.svg\" alt=\"remove\" />\r\n\t\t\t\t\t<input onChange={onChangeSearch} value={searchValue} type=\"text\" placeholder='Поиск...' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='sneakers'>\r\n\t\t\t\t{renderItems()}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;","import { useContext } from 'react'\r\nimport { CartContext } from '../App'\r\n\r\nexport function useCart() {\r\n\tconst { cartItems, setCartItems } = useContext(CartContext);\r\n\tconst totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\treturn { cartItems, setCartItems, totalPrice }\r\n}","import { Link } from 'react-router-dom';\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nfunction Header({ onClickCloseCart }) {\r\n\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header>\r\n      <Link className='link' to='/'>\r\n        <div className='headerLeft'>\r\n          <img height={40} width={40} src=\"img/logo.png\" alt=\"ЛОГО\" />\r\n          <div className='headerInfo'>\r\n            <h3>REACT SNEAKERS</h3>\r\n            <p>Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className='headerRight'>\r\n        <li className='cartBut' onClick={onClickCloseCart}>\r\n          <img className='cartButton' height={18} width={18} src=\"img/cart.svg\" alt=\"Cart\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li>\r\n          <Link to='/favorites'>\r\n            <img className='heart' height={18} width={18} src=\"img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to='/order'>\r\n            <img height={18} width={18} src=\"img/user.svg\" alt=\"Пользователь\" />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","function Info({ onClose, title, description, image }) {\r\n\treturn (\r\n\t\t<div className='cartEmpty'>\r\n\t\t\t<img width={120} src={image} alt=\"emptyCart\" />\r\n\t\t\t<h2>{title}</h2>\r\n\t\t\t<p>{description}</p>\r\n\t\t\t<button onClick={onClose} className='greenButton rotate'><img src={\"img/arrow.svg\"} alt=\"arrow\" />Вернуться назад</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Info;","import React, { useState } from 'react';\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nimport Info from './Info';\r\n\r\nfunction Drawer({ onRemove, onClose, cartItems, sendOreder }) {\r\n\r\n\tconst [isOrderComplet, setIsOrderComplet] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst { totalPrice } = useCart();\r\n\r\n\tconst onClickOrder = () => {\r\n\t\tsetIsLoading(true);\r\n\t\tsendOreder();\r\n\t\tsetIsOrderComplet(true);\r\n\t\tsetIsLoading(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"overlay\">\r\n\t\t\t<div className=\"drawer\">\r\n\t\t\t\t<h2>Корзина <img onClick={onClose} className='btn-remove' src=\"img/btn-remove.svg\" alt=\"remove\" /></h2>\r\n\r\n\t\t\t\t{cartItems.length > 0 ?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"items\">\r\n\t\t\t\t\t\t\t{cartItems.map((obj, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"cartItem\" key={`${obj.title}_${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t<img className='itemImage' width={70} height={70} src={obj.imageURL} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t<div className='cartInfo'>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>{obj.title}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{obj.price} руб.</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<img onClick={() => onRemove(obj)} className='btn-remove' src=\"img/btn-remove.svg\" alt=\"remove\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"cartTotalBlock\">\r\n\t\t\t\t\t\t\t<ul >\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<span>Итого:</span>\r\n\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t<b>{totalPrice} руб.</b>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<span>Налог 5%:</span>\r\n\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t<b>{totalPrice * 0.05} руб.</b>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<button disabled={isLoading} onClick={onClickOrder} className='greenButton'>Оформить заказ <img src=\"img/arrow.svg\" alt=\"arrow\" /></button>\r\n\t\t\t\t\t\t</div></> :\r\n\t\t\t\t\t<Info\r\n\t\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\t\ttitle={isOrderComplet ? 'Заказ оформлен' : 'Корзина пуста'}\r\n\t\t\t\t\t\tdescription={isOrderComplet ? 'Менеджер свяжется с Вами в течение 15 минут' : 'Добавьте хотя бы одну пару кросcовок'}\r\n\t\t\t\t\t\timage={isOrderComplet ? \"img/complete-order.jpg\" : \"img/empty-cart.jpg\"}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Drawer;","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Route } from 'react-router-dom';\n\nimport Favorites from './pages/Favorites';\nimport Orders from './pages/Orders';\nimport Home from './pages/Home';\nimport Header from './components/Header';\nimport Drawer from './components/Drawer';\n\nexport const CartContext = React.createContext({});\n\nfunction App() {\n\n  const [cartOpened, setCardOpened] = useState(false);\n  const [sneakers, setSneakers] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [favorites, setFavorites] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  console.log(sneakers);\n  console.log(cartItems);\n  console.log('favor', favorites);\n\n\n  //Получение данных с бэка при первом рендере\n  useEffect(() => {\n\n    async function fetchData() {\n\n      try {\n\n        const [sneakersData, cartItemsData, favoritesData] = await Promise.all([\n          axios.get('https://61012ec14e50960017c29c6a.mockapi.io/Items'),\n          axios.get('https://61012ec14e50960017c29c6a.mockapi.io/Cart'),\n          axios.get('https://61012ec14e50960017c29c6a.mockapi.io/favorites')\n        ]);\n\n        setIsLoading(false);\n        setSneakers(sneakersData.data);\n        setCartItems(cartItemsData.data);\n        setFavorites(favoritesData.data);\n\n\n      } catch (error) {\n        alert('Ошибка при запросе данных')\n      };\n    };\n\n    fetchData();\n\n  }\n    , []);\n\n  //Добавление и удаление товара в корзину\n  const addToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find(Item => +Item.keys === +obj.keys);\n      if (findItem) {\n        setCartItems(prew => prew.filter(item => +item.keys !== +obj.keys));\n        await axios.delete(`https://61012ec14e50960017c29c6a.mockapi.io/Cart/${findItem.id}`);\n      } else {\n        setCartItems(prew => [...prew, obj]);\n        const { data } = await axios.post('https://61012ec14e50960017c29c6a.mockapi.io/Cart', obj);\n        setCartItems(prew => [...prew, data]);\n      }\n    } catch (error) {\n      alert('Не удалось доюавить в корзину');\n    }\n  }\n\n  //Отправка заказ на сервер, удлание из корзины на сервере, очистка локального стейта корзины\n\n  const sendOreder = async () => {\n    try {\n      const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n      await axios.post('https://61012ec14e50960017c29c6a.mockapi.io/Orders', { items: cartItems });\n      setCartItems([]);\n      for (let i = 0; i < cartItems.length; i++) {\n        const item = cartItems[i];\n        await axios.delete(`https://61012ec14e50960017c29c6a.mockapi.io/Cart/${item.id}`);\n        await delay(1000);\n      }\n\n    }\n    catch (error) {\n      alert('не удалось создать заказ');\n    }\n  }\n\n  //Удаление активности из карточки товара при нажатии в самой корзине\n  const isItemAdded = (keys) => {\n    return cartItems.some(items => +items.keys === +keys);\n  }\n\n  //Согласование закладок с сервером при перезагрузке приложения\n\n  const isLiked = (keys) => {\n    return favorites.some(items => +items.keys === +keys);\n  }\n\n\n  //Закрытие корзины\n  const handlerCloseCart = () => {\n    setCardOpened(!cartOpened);\n  }\n\n  //Добавление и удаление в/из закладки\n  const onAddToFavorite = async (obj) => {\n    try {\n      const findItem = favorites.find(favObj => +favObj.keys === +obj.keys);\n      if (findItem) {\n        setFavorites(prew => prew.filter(item => +item.keys !== +obj.keys));\n        await axios.delete(`https://61012ec14e50960017c29c6a.mockapi.io/favorites/${findItem.id}`);\n      } else {\n        setFavorites(prew => [...prew, obj]);\n        const { data } = await axios.post('https://61012ec14e50960017c29c6a.mockapi.io/favorites', obj);\n        setFavorites(prew => [...prew, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в закладки');\n    }\n  };\n\n  //Управляемый поиск\n  const onChangeSearch = (e) => {\n    setSearchValue(e.target.value);\n  }\n\n  return (\n    <CartContext.Provider value={{ isItemAdded, cartItems, setCartItems }}>\n      <div className=\"wrapper\">\n        {cartOpened && <Drawer sendOreder={sendOreder} cartItems={cartItems} onClose={handlerCloseCart} onRemove={addToCart} />}\n        <Header onClickCloseCart={handlerCloseCart} />\n        <Route path='' exact>\n          <Home\n            isLiked={isLiked}\n            sneakers={sneakers}\n            isLoading={isLoading}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearch={onChangeSearch}\n            onAddToFavorite={onAddToFavorite}\n            addToCart={addToCart} />\n        </Route>\n        <Route path='favorites' exact>\n          <Favorites sneakers={favorites} isLiked={isLiked} onAddToFavorite={onAddToFavorite} />\n        </Route>\n        <Route path='order' exact>\n          <Orders onAddToFavorite={onAddToFavorite} />\n        </Route>\n      </div>\n    </CartContext.Provider>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}